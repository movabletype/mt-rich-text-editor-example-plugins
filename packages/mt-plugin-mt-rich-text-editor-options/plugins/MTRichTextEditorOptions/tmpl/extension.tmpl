<mt:setvarblock name="js_include" append="1">
  <script type="module">
    /**
     * The "create" event is triggered before the rich text editor is created.
     */
    MTRichTextEditor.on("create", (options) => {
      // Toolbar Settings
      options.toolbar = [
        // rows
        [
          // left side
          [
            // groups
            ["block"],
            ["bold", "italic", "underline", "strike"],
            ["link", "unlink"],
          ],
          // right side
          [
            // groups
            ["undo", "redo"],
          ],
        ],
      ];

      options.toolbarOptions = {
        block: {
          // "Paragraph Styles" options
          blocks: [
            { label: "Paragraph", value: "paragraph" },
            { label: "Heading 1", value: "h1" },
            { label: "Heading 2", value: "h2" },
            { label: "Heading 3", value: "h3" },
            { label: "Preformatted", value: "pre" },
          ],
        },
      };

      // Quick Action Settings
      options.quickAction = [
        "heading:3",
        "heading:4",
        "heading:5",
        "heading:6",
      ];

      options.stylesheets ??= [];
      // Add custom stylesheet for the content area. You can specify stylesheets via URL or inline styles.
      // options.stylesheets.push("https://example.com/path/to/your/custom/styles.css");
      // or
      options.stylesheets.push(`
body {
  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
  line-height: 1.6;
  padding: 16px;
}
h1 {
  font-size: 2em;
  margin: 0.67em 0;
}
`);
    });

    /**
     * The "init" event is triggered when the rich text editor is initialized.
     */
    MTRichTextEditor.on("init", (editor) => {
      // Get an internal tiptap editor instance
      const tiptap = editor.tiptap;

      // Add event listeners to the tiptap editor instance.
      // https://tiptap.dev/docs/editor/api/events

      tiptap.on("update", (e) => {
        console.log("Update event:", e);
      });

      tiptap.on("paste", (e) => {
        console.log("Pasted content:", e);
      });

      tiptap.on("focus", (e) => {
        console.log("Editor focused:", e);
      });

      tiptap.on("blur", (e) => {
        console.log("Editor blurred:", e);
      });
    });
  </script>
</mt:setvarblock>
